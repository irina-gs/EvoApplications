<div class="container">
  <h1 class="display-6 my-3">Добавить книгу</h1>

  <form class="my-auto">

    <div class="mb-3">

      <label class="form-label">Название книги</label>
      <input required maxlength="100" pattern="[а-яА-яёË]*" #title="ngModel" name="title"
        [(ngModel)]="createdBook.title" type="text" class="form-control"
        [ngClass]="{'is-valid' : title.valid, 'is-invalid' : title.invalid && (title.dirty || title.touched)}">

      <div *ngIf="title.invalid && (title.dirty || title.touched)">
        <div *ngIf="title.hasError('required')" class="alert alert-danger mt-2" role="alert">
          Поле должно быть заполнено
        </div>
        <div *ngIf="title.hasError('pattern')" class="alert alert-danger mt-2" role="alert">
          Поле должно содержать только русские буквы, без пробелов, без цифр и спец. символов
        </div>
      </div>

    </div>

    <div class="mb-3">

      <label class="form-label">Автор</label>
      <input required maxlength="100" pattern="[а-яА-яёË]*" #author="ngModel" name="author"
        [(ngModel)]="createdBook.author" type="text" class="form-control"
        [ngClass]="{'is-valid' : author.valid, 'is-invalid' : author.invalid && (author.dirty || author.touched)}">

      <div *ngIf="author.invalid && (author.dirty || author.touched)">
        <div *ngIf="author.hasError('required')" class="alert alert-danger mt-2" role="alert">
          Поле должно быть заполнено
        </div>
        <div *ngIf="author.hasError('pattern')" class="alert alert-danger mt-2" role="alert">
          Поле должно содержать только русские буквы, без пробелов, без цифр и спец. символов
        </div>
      </div>

    </div>

    <button [disabled]="title.invalid || author.invalid" (click)="addBook()" type="submit"
      class="btn btn-primary">Добавить</button>

  </form>
</div>


<div class="container">
  <h1 class="display-6 mt-5">Реестр книг</h1>
  <table class="table table-striped pt-10">
    <thead>
      <tr>
        <th scope="col">Номер</th>
        <th scope="col">Название книги</th>
        <th scope="col">Автор</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let book of books; index as i">
        <td scope="row">{{i + 1}}</td>
        <td>{{book.title}}</td>
        <td>{{book.author}}</td>
      </tr>
    </tbody>
  </table>
</div>